# 渲染
离线渲染：影视行业的多时渲染，一个画面要渲染很久很久。
实时渲染：每秒都要有高刷新率的画面渲染出来。

一般说的渲染管线都是GPU的渲染管线

# Unity Build-in渲染管线
1.剔除
2.列出渲染顺序
3.打包数据
4.调用shader
5.帧缓冲区
6.后处理

1-3 CPU端处理
4-6 GPU端处理

# GPU渲染管线
顶点处理
图元装备及光栅化
片元处理
输出合并

# 剔除
视椎体剔除：在视椎体之外的物体去掉。
    视椎体：一个作为玩家可见视野的四锥体。
层级剔除：对部分层次屏蔽。

# 渲染顺序
默认渲染时[从前向后]是为了性能优化，被挡住的部分和物体就不用渲染了。
半透明渲染时要[从后向前]渲染是为了显示效果的正确性，因为不透明的物体前后顺序不一样，显示效果不一样。

# 打包数据 Batch
模型信息
    顶点坐标
    法线
    UV
    切线
    顶点色
    索引列表
变换矩阵
    世界变换矩阵
    VP矩阵：根据摄像机位置和fov等参数构建
灯光、材质参数
    Shader
    材质参数
    灯光信息

# Unity和建模软件区别
建模软件一般用四边形建模方式，但是游戏引擎只能够识别三角面，导入时他会自动转化。

# Shader
Shader就是运行在渲染阶段的一段可编程的持续，Shader由[顶点Shader]和[片元Shader]共同组成。

# 顶点Shader
最重要的任务：将顶点坐标从模型空间变换到裁剪空间。
通俗的讲就是模拟拍照的过程，模拟投影成像的过程，将我们的3D模型进行变形。
经过顶点Shader处理后，相机金字塔状的视锥体被转换变形成一个比例位2X2X1的立方体（CVV)。
顶点Shader并不会产生2D图像，仅使得场景中的3D对象产生变形效果。
我的理解是将可视空间变形成标准的空间易于后续处理，虽然3D对象都变形了，但是从视野出发的显示效果是不变的。

模型空间->世界空间->相机空间->裁剪空间。
    模型空间转换到世界空间就是利用了矩阵，矩阵能够帮助一个点，一个向量完成平移，旋转，缩放等等的空间变换操作。

# 光照
直接光照，间接光照

Phong光照模型：认为物体表面颜色由Diffuse漫反射光，Specular镜面反射光和Ambient环境光组成。

基本框架=直接光漫反射+直接光镜面反射+间接光漫反射+间接光镜面反射

